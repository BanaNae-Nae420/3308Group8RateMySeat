<h2 class="text-center bg-light py-3 border rounded">View Upcoming Events at Empower Field At Mile High</h2>
<div class="container mt-5">
  <div class="row">
    {{#each events}}
      <div class="col-md-4 col-sm-6 mb-4">
        <div class="card h-100 shadow-sm">
          <img src="{{image_url}}" class="card-img-top" alt="{{event_name}}" 
            style="height: 200px; object-fit: cover; width: 100%;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">{{event_name}}</h5>
            <p>
              <strong>Date:</strong> 
              <span class="event-date" data-date="{{event_date}}"></span>
            </p>
            <div class="mt-auto d-flex justify-content-center">
              <a href="{{url}}" target="_blank" class="btn btn-primary">Get Tickets</a>
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</div>

{{! script to convert date to more readable content }}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Select all elements with the class "event-date"
    const dateElements = document.querySelectorAll(".event-date");

    dateElements.forEach((element) => {
      // Get the raw date string from the data attribute
      const rawDate = element.getAttribute("data-date");

      // Convert the string to a JavaScript Date object
      const date = new Date(rawDate);

      // Format the date
      const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit', 
        timeZoneName: 'short' 
      };
      const formattedDate = new Intl.DateTimeFormat('en-US', options).format(date);

      // Update the element's content with the formatted date
      element.textContent = formattedDate;
    });
  });
</script>